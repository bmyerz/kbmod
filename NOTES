First database investigation:
  http://postgis.net/documentation

  # To install on OS X
  sudo port install postgis2
  sudo port install postgresql93-server
  sudo mkdir -p /opt/local/var/db/postgresql93/defaultdb
  sudo chown postgres:postgres /opt/local/var/db/postgresql93/defaultdb
  sudo su postgres -c '/opt/local/lib/postgresql93/bin/initdb -D /opt/local/var/db/postgresql93/defaultdb' 
    The files belonging to this database system will be owned by user "postgres".
    This user must also own the server process.
    The database cluster will be initialized with locale "en_US.UTF-8".
    The default database encoding has accordingly been set to "UTF8".
    The default text search configuration will be set to "english".

    WARNING: enabling "trust" authentication for local connections
    You can change this by editing pg_hba.conf or using the option -A, or
    --auth-local and --auth-host, the next time you run initdb.

    Success. You can now start the database server using:
        /opt/local/lib/postgresql93/bin/postgres -D /opt/local/var/db/postgresql93/defaultdb
    or
        /opt/local/lib/postgresql93/bin/pg_ctl -D /opt/local/var/db/postgresql93/defaultdb -l logfile start

    Actually, you need to
        sudo -u postgres /opt/local/lib/postgresql93/bin/postgres -D /opt/local/var/db/postgresql93/defaultdb

######## Postgres mojo

/opt/local/lib/postgresql93/bin/psql -U postgres
\? = help
\dt = show tables
\l = show databases
\c postgres = connect to database postgres

create database kbmod;
\c kbmod
CREATE EXTENSION postgis; # load postgis spatial extension

I want to use the Geography package since everything is done in angles
http://postgis.net/docs/manual-2.1/PostGIS_Special_Functions_Index.html#PostGIS_GeographyFunctions

Dates and times
http://www.postgresql.org/docs/9.1/static/functions-datetime.html

# 1e6
CREATE TABLE fields ( 
    fieldId SERIAL PRIMARY KEY,
    run INTEGER,
    camcol SMALLINT,
    field INTEGER,
    filter VARCHAR(1),
    bbox GEOGRAPHY(POLYGON,4326),
    tmid TIMESTAMP,
    trange TSRANGE
  );
# Since I'll be dropping this on and off
DROP TABLE fields;
# I expect this is the index I will want to create
CREATE INDEX fields_gix ON fields USING GIST (bbox);
# Testing insertion of data
INSERT INTO fields (fieldId, run, camcol, field, filter, bbox, tmid, trange) VALUES
 (2, 100, 1, 148, 'r', ST_GeomFromText('POLYGON((
    -73.973057 40.764356, -73.981898 40.768094,
    -73.958209 40.800621, -73.949282 40.796853, -73.973057 40.764356))',4326),
    '2010-01-01 14:30:30',
    '[2010-01-01 14:30:00, 2010-01-01 14:31:01]');

# 1e12
CREATE TABLE pixels ( 
    pixelId BIGSERIAL PRIMARY KEY,
    fieldId INTEGER REFERENCES fields(fieldId),
    flux GEOGRAPHY(POINTM,4326),
    mask INTEGER
  );
DROP TABLE pixels;
INSERT INTO pixels (fieldId, flux, mask) VALUES
 (1, ST_MakePointM(-71.1043443253471, 42.3150676015829, 11.0), 128),
 (1, ST_MakePointM(-71.1043443253471, 42.3150676015829, 12.0), 128)
;